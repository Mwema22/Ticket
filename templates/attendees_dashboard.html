{% load static %}
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="author" content="Mwema">
<title>{% block title %}Attendees Dashboard{% endblock %}</title>
<!-- Bootstrap -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
<!-- Font Awesome -->
<link href="{% static 'fontawesomefree/css/all.min.css' %}" rel="stylesheet">
<script src="{% static 'fontawesomefree/js/all.min.js' %}"></script>
<!-- Custom CSS -->
<link rel="stylesheet" href="{% static 'css/attendees_dashboard.css' %}">
</head>
<body>
<nav class="navbar navbar-expand-lg" style="background-color: blueviolet;">
<div class="container-fluid px-5">
<!-- Brand -->
<a class="navbar-brand text-white" href="#">EventTik</a>
<!-- Toggler (for mobile) -->
<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
<span class="navbar-toggler-icon"></span>
</button>
<!-- Navbar Content -->
<div class="collapse navbar-collapse justify-content-between" id="navbarSupportedContent">
<!-- Left: Home -->
<ul class="navbar-nav">
<li class="nav-item">
<a class="nav-link active text-white" aria-current="page" href="#">Home</a>
</li>
</ul>
<!-- Center: Search Form -->
<form class="d-flex mx-auto" role="search" style="max-width: 400px; width: 100%;">
<input class="form-control me-2" type="search" placeholder="Search events..." aria-label="Search" />
<button class="btn btn-outline-light" type="submit">Search</button>
</form>
<!-- Right: User Menu -->
<ul class="navbar-nav">
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle text-white position-relative" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
<i class="fas fa-bell"></i>
<span class="notification-badge">3</span>
</a>
<ul class="dropdown-menu notification-dropdown">
<li><h6 class="dropdown-header">Notifications</h6></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-ticket-alt me-2"></i>New event: Jazz Concert</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-check-circle me-2"></i>Order confirmed</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-star me-2"></i>Event reminder</a></li>
<li><hr class="dropdown-divider"></li>
<li><a class="dropdown-item text-center" href="#">View all notifications</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle text-white position-relative" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
<i class="fas fa-shopping-cart"></i>
<span class="cart-badge">2</span>
</a>
<ul class="dropdown-menu cart-dropdown">
<li><h6 class="dropdown-header">Shopping Cart</h6></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-ticket-alt me-2"></i>Concert Ticket x2</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-ticket-alt me-2"></i>Workshop Pass x1</a></li>
<li><hr class="dropdown-divider"></li>
<li><a class="dropdown-item text-center" href="#">View Cart</a></li>
</ul>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle text-white" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
<img src="{% static 'images/default-profile.png' %}" class="profile-pic-sm" alt="Profile">
{{ user.username }}
</a>
<ul class="dropdown-menu">
<li><a class="dropdown-item" href="#"><i class="fas fa-user me-2"></i>Profile</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-shopping-bag me-2"></i>My Orders</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-ticket-alt me-2"></i>My Tickets</a></li>
<li><a class="dropdown-item" href="#"><i class="fas fa-comment me-2"></i>Feedback</a></li>
<li><hr class="dropdown-divider"></li>

</ul>
</li>
</ul>
</div>
</div>
</nav>
<!--End of navbar-->

<!--Main Content-->
<div class="container-fluid">
<div class="row mt-4">
<!-- Sidebar -->
<div class="col-md-3">
<div class="card dashboard-sidebar">
<div class="card-header">
<h5><i class="fas fa-tachometer-alt me-2"></i>Dashboard</h5>
</div>
<div class="card-body p-0">
<nav class="nav flex-column">
<a class="nav-link active" href="#events-section"><i class="fas fa-calendar-alt me-2"></i>Browse Events</a>
<a class="nav-link" href="#my-tickets-section"><i class="fas fa-ticket-alt me-2"></i>My Tickets</a>
<a class="nav-link" href="#my-orders-section"><i class="fas fa-shopping-bag me-2"></i>My Orders</a>
<a class="nav-link" href="{% url 'profile' %}"><i class="fas fa-user me-2"></i>Profile</a>
<a class="nav-link" href="#feedback-section"><i class="fas fa-comment me-2"></i>Feedback</a>
<a class="dropdown-item" href="{% url 'logout' %}"><i class="fas fa-sign-out-alt me-2"></i>Logout</a>
</nav>
</div>
</div>

<!-- Welcome Card -->
<div class="card mt-3">
<div class="card-header">
Welcome Dashboard
</div>
<div class="card-body">
<marquee behavior="" direction="">
<h5 class="my-3">Welcome To EventTik</h5>
</marquee>
<p class="text-muted">Hello {{ user.username }}, discover amazing events!</p>
</div>
</div>
</div>

<!-- Main Content Area -->
<div class="col-md-9">
<!-- Events Section -->
<div id="events-section" class="content-section">
<div class="d-flex justify-content-between align-items-center mb-4">
<h2><i class="fas fa-calendar-alt me-2"></i>Upcoming Events</h2>
<div class="btn-group" role="group">
<button type="button" class="btn btn-outline-primary active" data-filter="all">All</button>
<button type="button" class="btn btn-outline-primary" data-filter="music">Music</button>
<button type="button" class="btn btn-outline-primary" data-filter="sports">Sports</button>
<button type="button" class="btn btn-outline-primary" data-filter="tech">Tech</button>
</div>
</div>

<div class="row" id="events-container">
<!-- Event Card Template -->
<div class="col-md-6 col-lg-4 mb-4 event-card" data-category="music">
<div class="card event-card-item">
<img src="{% static 'images/event-placeholder.jpg' %}" class="card-img-top" alt="Event Image">
<div class="card-body">
<h5 class="card-title">Jazz Night Concert</h5>
<p class="card-text">
<small class="text-muted">
<i class="fas fa-map-marker-alt me-1"></i>Nairobi, Kenya<br>
<i class="fas fa-calendar me-1"></i>Dec 15, 2024<br>
<i class="fas fa-clock me-1"></i>7:00 PM
</small>
</p>
<p class="card-text">Experience the best jazz music in the city with renowned local and international artists.</p>
<div class="d-flex justify-content-between align-items-center">
<span class="price-tag">From KES 2,500</span>
<div class="btn-group" role="group">
<button type="button" class="btn btn-primary btn-sm" onclick="buyTicket(1)">
<i class="fas fa-ticket-alt me-1"></i>Buy Ticket
</button>
<button type="button" class="btn btn-outline-secondary btn-sm" onclick="shareEvent(1)">
<i class="fas fa-share-alt"></i>
</button>
</div>
</div>
</div>
<div class="card-footer">
<small class="text-muted">
By <strong>Nairobi Events Co.</strong>
<span class="rating">
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="far fa-star"></i>
4.2
</span>
</small>
</div>
</div>
</div>

<!-- More event cards would be generated from Django template -->
<div class="col-md-6 col-lg-4 mb-4 event-card" data-category="tech">
<div class="card event-card-item">
<img src="{% static 'images/event-placeholder.jpg' %}" class="card-img-top" alt="Event Image">
<div class="card-body">
<h5 class="card-title">Tech Conference 2024</h5>
<p class="card-text">
<small class="text-muted">
<i class="fas fa-map-marker-alt me-1"></i>Nairobi, Kenya<br>
<i class="fas fa-calendar me-1"></i>Dec 20, 2024<br>
<i class="fas fa-clock me-1"></i>9:00 AM
</small>
</p>
<p class="card-text">Join tech leaders and innovators for a day of inspiring talks and networking.</p>
<div class="d-flex justify-content-between align-items-center">
<span class="price-tag">From KES 5,000</span>
<div class="btn-group" role="group">
<button type="button" class="btn btn-primary btn-sm" onclick="buyTicket(2)">
<i class="fas fa-ticket-alt me-1"></i>Buy Ticket
</button>
<button type="button" class="btn btn-outline-secondary btn-sm" onclick="shareEvent(2)">
<i class="fas fa-share-alt"></i>
</button>
</div>
</div>
</div>
<div class="card-footer">
<small class="text-muted">
By <strong>Tech Hub Kenya</strong>
<span class="rating">
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
<i class="fas fa-star"></i>
5.0
</span>
</small>
</div>
</div>
</div>
</div>
</div>

<!-- My Tickets Section -->
<div id="my-tickets-section" class="content-section" style="display: none;">
<h2><i class="fas fa-ticket-alt me-2"></i>My Tickets</h2>
<div class="row">
<div class="col-md-6 mb-3">
<div class="card ticket-card">
<div class="card-body">
<div class="d-flex justify-content-between">
<div>
<h5 class="card-title">Jazz Night Concert</h5>
<p class="card-text">
<small class="text-muted">
<i class="fas fa-calendar me-1"></i>Dec 15, 2024<br>
<i class="fas fa-map-marker-alt me-1"></i>Nairobi, Kenya
</small>
</p>
</div>
<div class="text-end">
<span class="badge bg-success">Confirmed</span>
<div class="mt-2">
<button class="btn btn-sm btn-outline-primary" onclick="downloadTicket(1)">
<i class="fas fa-download"></i> Download
</button>
<button class="btn btn-sm btn-outline-secondary" onclick="shareTicket(1)">
<i class="fas fa-share"></i> Share
</button>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- My Orders Section -->
<div id="my-orders-section" class="content-section" style="display: none;">
<h2><i class="fas fa-shopping-bag me-2"></i>My Orders</h2>
<div class="card">
<div class="card-body">
<div class="table-responsive">
<table class="table table-striped">
<thead>
<tr>
<th>Order ID</th>
<th>Event</th>
<th>Date</th>
<th>Amount</th>
<th>Status</th>
<th>Actions</th>
</tr>
</thead>
<tbody>
<tr>
<td>#ORD001</td>
<td>Jazz Night Concert</td>
<td>Dec 10, 2024</td>
<td>KES 5,000</td>
<td><span class="badge bg-success">Completed</span></td>
<td>
<button class="btn btn-sm btn-outline-primary" onclick="viewOrderDetails(1)">
<i class="fas fa-eye"></i> View
</button>
</td>
</tr>
<tr>
<td>#ORD002</td>
<td>Tech Conference 2024</td>
<td>Dec 12, 2024</td>
<td>KES 10,000</td>
<td><span class="badge bg-warning">Pending</span></td>
<td>
<button class="btn btn-sm btn-outline-primary" onclick="viewOrderDetails(2)">
<i class="fas fa-eye"></i> View
</button>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>

<!-- Profile Section -->
<div id="profile-section" class="content-section" style="display: none;">
<h2><i class="fas fa-user me-2"></i>Profile</h2>
<div class="card">
<div class="card-body">
<div class="row">
<div class="col-md-4 text-center">
<img src="{% static 'images/default-profile.png' %}" class="profile-pic-lg mb-3" alt="Profile">
<button class="btn btn-outline-primary btn-sm">Change Photo</button>
</div>
<div class="col-md-8">
<form>
<div class="row">
<div class="col-md-6 mb-3">
<label class="form-label">First Name</label>
<input type="text" class="form-control" value="{{ user.firstname }}">
</div>
<div class="col-md-6 mb-3">
<label class="form-label">Last Name</label>
<input type="text" class="form-control" value="{{ user.lastname }}">
</div>
</div>
<div class="mb-3">
<label class="form-label">Email</label>
<input type="email" class="form-control" value="{{ user.email }}">
</div>
<div class="mb-3">
<label class="form-label">Phone Number</label>
<input type="tel" class="form-control" value="{{ user.phone_number }}">
</div>
<button type="submit" class="btn btn-primary">Update Profile</button>
</form>
</div>
</div>
</div>
</div>
</div>

<!-- Feedback Section -->
<div id="feedback-section" class="content-section" style="display: none;">
<h2><i class="fas fa-comment me-2"></i>Feedback</h2>
<div class="card">
<div class="card-body">
<form>
<div class="mb-3">
<label class="form-label">Subject</label>
<input type="text" class="form-control" placeholder="Enter feedback subject">
</div>
<div class="mb-3">
<label class="form-label">Message</label>
<textarea class="form-control" rows="5" placeholder="Enter your feedback"></textarea>
</div>
<div class="mb-3">
<label class="form-label">Rating</label>
<div class="star-rating">
<i class="fas fa-star" data-rating="1"></i>
<i class="fas fa-star" data-rating="2"></i>
<i class="fas fa-star" data-rating="3"></i>
<i class="fas fa-star" data-rating="4"></i>
<i class="fas fa-star" data-rating="5"></i>
</div>
</div>
<button type="submit" class="btn btn-primary">Submit Feedback</button>
</form>
</div>
</div>
</div>
</div>
</div>
</div>

<!-- Ticket Purchase Modal -->
<div class="modal fade" id="ticketModal" tabindex="-1" aria-labelledby="ticketModalLabel" aria-hidden="true">
<div class="modal-dialog modal-lg">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="ticketModalLabel">Purchase Tickets</h5>
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<div class="row">
<div class="col-md-6">
<img src="{% static 'images/event-placeholder.jpg' %}" class="img-fluid" alt="Event Image">
</div>
<div class="col-md-6">
<h4>Jazz Night Concert</h4>
<p class="text-muted">Dec 15, 2024 • 7:00 PM</p>
<p>Experience the best jazz music in the city.</p>
<div class="ticket-options">
<div class="ticket-option">
<div class="d-flex justify-content-between align-items-center">
<div>
<strong>General Admission</strong>
<p class="text-muted mb-0">Standing room</p>
</div>
<div class="ticket-controls">
<button class="btn btn-sm btn-outline-secondary" onclick="decreaseQuantity(1)">-</button>
<span class="mx-2" id="quantity-1">0</span>
<button class="btn btn-sm btn-outline-secondary" onclick="increaseQuantity(1)">+</button>
<span class="ms-2">KES 2,500</span>
</div>
</div>
</div>
<div class="ticket-option">
<div class="d-flex justify-content-between align-items-center">
<div>
<strong>VIP Seating</strong>
<p class="text-muted mb-0">Reserved seating</p>
</div>
<div class="ticket-controls">
<button class="btn btn-sm btn-outline-secondary" onclick="decreaseQuantity(2)">-</button>
<span class="mx-2" id="quantity-2">0</span>
<button class="btn btn-sm btn-outline-secondary" onclick="increaseQuantity(2)">+</button>
<span class="ms-2">KES 5,000</span>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="modal-footer">
<div class="me-auto">
<strong>Total: KES <span id="total-amount">0</span></strong>
</div>
<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
<button type="button" class="btn btn-primary" onclick="proceedToCheckout()">Add to Cart</button>
</div>
</div>
</div>
</div>

<!-- Share Modal -->
<div class="modal fade" id="shareModal" tabindex="-1" aria-labelledby="shareModalLabel" aria-hidden="true">
<div class="modal-dialog">
<div class="modal-content">
<div class="modal-header">
<h5 class="modal-title" id="shareModalLabel">Share Event</h5>
<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
</div>
<div class="modal-body">
<p>Share this event with your friends!</p>
<div class="share-buttons">
<button class="btn btn-primary btn-sm me-2" onclick="shareOnFacebook()">
<i class="fab fa-facebook"></i> Facebook
</button>
<button class="btn btn-info btn-sm me-2" onclick="shareOnTwitter()">
<i class="fab fa-twitter"></i> Twitter
</button>
<button class="btn btn-success btn-sm me-2" onclick="shareOnWhatsApp()">
<i class="fab fa-whatsapp"></i> WhatsApp
</button>
<button class="btn btn-secondary btn-sm" onclick="copyLink()">
<i class="fas fa-copy"></i> Copy Link
</button>
</div>
</div>
</div>
</div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
crossorigin="anonymous"></script>
<!-- Custom JS -->
<script src="{% static '' %}"></script>
</body>
</html>